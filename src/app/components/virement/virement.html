<div class="max-w-2xl mx-auto p-6">
  <div class="bg-white rounded-2xl shadow-md p-8">
    <h2 class="text-2xl font-bold text-gray-800 mb-2">ðŸ’¸ Effectuer un virement</h2>
    <p class="text-sm text-gray-500 mb-6">TransfÃ©rez de l'argent entre deux comptes</p>

    <form [formGroup]="virementForm" (ngSubmit)="effectuerVirement()" class="space-y-5">
      
      <div>
        <label for="idSource" class="block text-sm font-medium text-gray-700 mb-1">Compte source</label>
        <select id="idSource" formControlName="idSource"
          class="w-full border border-gray-300 rounded-lg p-2.5 text-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
          <option value="" disabled selected>-- SÃ©lectionnez un compte source --</option>
          @for (compte of comptes$ | async; track compte.id) {
            <option [value]="compte.id">{{ compte.compteNumber }} â€” {{ compte.titulaire }}</option>
          }
        </select>
        @if (virementForm.get('idSource')?.invalid && virementForm.get('idSource')?.touched) {
          <p class="text-red-500 text-xs mt-1">Veuillez sÃ©lectionner un compte source.</p>
        }
      </div>

      <div>
        <label for="idDestination" class="block text-sm font-medium text-gray-700 mb-1">Compte destination</label>
        <select id="idDestination" formControlName="idDestination"
          class="w-full border border-gray-300 rounded-lg p-2.5 text-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
          <option value="" disabled selected>-- SÃ©lectionnez un compte destination --</option>
          @for (compte of comptes$ | async; track compte.id) {
            <option [value]="compte.id">{{ compte.compteNumber }} â€” {{ compte.titulaire }}</option>
          }
        </select>
        @if (virementForm.get('idDestination')?.invalid && virementForm.get('idDestination')?.touched) {
          <p class="text-red-500 text-xs mt-1">Veuillez sÃ©lectionner un compte destination.</p>
        }
      </div>

      <div>
        <label for="montant" class="block text-sm font-medium text-gray-700 mb-1">Montant (â‚¬)</label>
        <div class="relative">
          <span class="absolute left-3 top-2.5 text-gray-400">â‚¬</span>
          <input id="montant" formControlName="montant" type="number" step="0.01" placeholder="0.00"
            class="w-full pl-7 border border-gray-300 rounded-lg p-2.5 text-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
        </div>
        @if (virementForm.get('montant')?.invalid && virementForm.get('montant')?.touched) {
          <p class="text-red-500 text-xs mt-1">Le montant doit Ãªtre supÃ©rieur Ã  0.</p>
        }
      </div>

      <button type="submit" [disabled]="virementForm.invalid"
        class="w-full py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition">
        Effectuer le virement
      </button>

    </form>
  </div>
</div>